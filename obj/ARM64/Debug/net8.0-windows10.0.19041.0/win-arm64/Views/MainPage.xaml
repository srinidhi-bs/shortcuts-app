<?xml version="1.0" encoding="UTF-8" ?>
<Page x:ConnectionId='1'
    x:Class="ShortcutsApp.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:ShortcutsApp"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    
    <ScrollViewer>
        <StackPanel Margin="24" Spacing="24">
            
            <!-- Header -->
            <StackPanel Spacing="8">
                <TextBlock Text="Shortcuts App" FontSize="28" FontWeight="SemiBold" />
                <TextBlock Text="Configure your keyboard shortcuts and launcher settings" 
                          Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
            </StackPanel>
            
            <!-- Hotkey Section -->
            <StackPanel Spacing="16">
                <TextBlock Text="Hotkey" FontSize="20" FontWeight="Medium" />
                
                <!-- Hotkey Capture Area -->
                <Border x:ConnectionId='18' x:Name="HotkeyCaptureContainer"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="16">
                    <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="12">
                        
                        <!-- Hotkey Display -->
                        <Grid Grid.Row="0" ColumnDefinitions="*,Auto,Auto" ColumnSpacing="12">
                            <TextBox x:ConnectionId='23' x:Name="HotkeyTextBox" 
                                     PlaceholderText="Click 'Record' and press your desired key combination"
                                     IsReadOnly="True"
                                     Background="{ThemeResource SystemFillColorSolidNeutralBackgroundBrush}"/>
                            <Button x:ConnectionId='24' x:Name="RecordHotkeyButton" Grid.Column="1" 
                                    Content="Record"
                                                              
                                    Style="{StaticResource AccentButtonStyle}" />
                            <Button x:ConnectionId='25' Grid.Column="2" Content="Clear" 
                                                              />
                        </Grid>
                        
                        <!-- Status and Feedback -->
                        <StackPanel Grid.Row="1" Spacing="8">
                            <TextBlock x:ConnectionId='21' x:Name="HotkeyStatusText" 
                                      Text="Configure a global hotkey to quickly access your shortcuts"
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      FontSize="12" />
                            
                            <!-- Conflict Warning -->
                            <InfoBar x:ConnectionId='22' x:Name="HotkeyConflictInfo"
                                    Severity="Warning"
                                    Title="Hotkey Conflict Detected"
                                    Message="This hotkey combination may conflict with system shortcuts. Consider using a different combination."
                                    IsOpen="False"
                                    IsClosable="True" />
                        </StackPanel>
                        
                        <!-- Enable/Disable Toggle -->
                        <CheckBox x:ConnectionId='20' x:Name="EnableHotkeyCheckBox" Grid.Row="2"
                                  Content="Enable global hotkey" 
                                  IsChecked="True" 
                                                                
                                                                   />
                    </Grid>
                </Border>
                
                <!-- Hotkey Recording Overlay -->
                <Grid x:ConnectionId='19' x:Name="HotkeyRecordingOverlay" 
                      Background="{ThemeResource AcrylicBackgroundFillColorBaseBrush}"
                      CornerRadius="8"
                      Padding="24"
                      Visibility="Collapsed">
                    <StackPanel HorizontalAlignment="Center" Spacing="16">
                        <ProgressRing IsActive="True" Width="32" Height="32" />
                        <TextBlock Text="Press your desired key combination..."
                                  HorizontalAlignment="Center"
                                  FontWeight="Medium" />
                        <TextBlock Text="Press Escape to cancel"
                                  HorizontalAlignment="Center"
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                  FontSize="12" />
                    </StackPanel>
                </Grid>
                
            </StackPanel>
            
            <!-- Shortcuts Section -->
            <StackPanel Spacing="16">
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
                    <TextBlock Text="Shortcuts" FontSize="20" FontWeight="Medium" 
                              VerticalAlignment="Center" />
                    <Button x:ConnectionId='17' Grid.Column="1" Content="Add Shortcut" 
                                                     >
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource AccentButtonStyle}">
                                <Setter Property="Padding" Value="16,8" />
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
                
                <ListView x:ConnectionId='10' x:Name="ShortcutsListView" 
                          SelectionMode="Single"
                                                          
                          CanDragItems="True"
                          AllowDrop="True"
                                                                                 
                                                               
                                                       
                          CanReorderItems="True"
                          ReorderMode="Enabled">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid Padding="12" ColumnDefinitions="Auto,*,Auto,Auto,Auto,Auto" ColumnSpacing="8"
                                  Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                  CornerRadius="4"
                                  Margin="0,2">
                                <Border Grid.Column="0" 
                                        Width="32" Height="32"
                                        Background="{ThemeResource SystemFillColorNeutralBackgroundBrush}"
                                        CornerRadius="4">
                                    <Image Source="{Binding IconPath}"
                                           Stretch="Uniform" />
                                </Border>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="8,0">
                                    <TextBlock Text="{Binding Name}" 
                                              FontWeight="Medium" 
                                              TextTrimming="CharacterEllipsis" />
                                    <TextBlock Text="{Binding Path}" 
                                              Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                              TextTrimming="CharacterEllipsis"
                                              FontSize="12" />
                                </StackPanel>
                                <Button x:ConnectionId='13' Grid.Column="2" 
                                        Content="↑"
                                                                    
                                        CommandParameter="{Binding Id}"
                                        ToolTipService.ToolTip="Move Up"
                                        Width="32" Height="32"
                                        Padding="0"
                                        FontSize="16"
                                        Margin="2,0" />
                                <Button x:ConnectionId='14' Grid.Column="3" 
                                        Content="↓"
                                                                      
                                        CommandParameter="{Binding Id}"
                                        ToolTipService.ToolTip="Move Down"
                                        Width="32" Height="32"
                                        Padding="0"
                                        FontSize="16"
                                        Margin="2,0" />
                                <Button x:ConnectionId='15' Grid.Column="4" 
                                        Content="Edit"
                                                                  
                                        CommandParameter="{Binding Id}"
                                        Margin="2,0" />
                                <Button x:ConnectionId='16' Grid.Column="5" 
                                        Content="Remove"
                                                                    
                                        CommandParameter="{Binding Id}"
                                        Margin="2,0" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
                
                <TextBlock x:ConnectionId='11' x:Name="EmptyShortcutsText" 
                          Text="No shortcuts configured. Click 'Add Shortcut' to get started."
                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                          HorizontalAlignment="Center"
                          Visibility="Collapsed" />
            </StackPanel>
            
            <!-- Appearance Section -->
            <StackPanel Spacing="16">
                <TextBlock Text="Appearance" FontSize="20" FontWeight="Medium" />
                
                <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="16">
                    
                    <!-- Grid Columns -->
                    <StackPanel Grid.Row="0" Spacing="8">
                        <TextBlock Text="Grid Columns" />
                        <Slider x:ConnectionId='8' x:Name="GridColumnsSlider" 
                                Minimum="3" Maximum="10" 
                                Value="6" 
                                StepFrequency="1"
                                TickFrequency="1"
                                TickPlacement="Outside"
                                                                              />
                        <TextBlock x:ConnectionId='9' x:Name="GridColumnsText" 
                                  Text="6 columns" 
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                    
                    <!-- Icon Size -->
                    <StackPanel Grid.Row="1" Spacing="8">
                        <TextBlock Text="Icon Size" />
                        <Slider x:ConnectionId='6' x:Name="IconSizeSlider" 
                                Minimum="32" Maximum="128" 
                                Value="64" 
                                StepFrequency="8"
                                                                           />
                        <TextBlock x:ConnectionId='7' x:Name="IconSizeText" 
                                  Text="64 pixels" 
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                    
                    <!-- Popup Opacity -->
                    <StackPanel Grid.Row="2" Spacing="8">
                        <TextBlock Text="Popup Opacity" />
                        <Slider x:ConnectionId='4' x:Name="PopupOpacitySlider" 
                                Minimum="0.5" Maximum="1.0" 
                                Value="0.95" 
                                StepFrequency="0.05"
                                                                               />
                        <TextBlock x:ConnectionId='5' x:Name="PopupOpacityText" 
                                  Text="95%" 
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                    
                </Grid>
            </StackPanel>
            
            <!-- Actions -->
            <Grid ColumnDefinitions="*,Auto,Auto" ColumnSpacing="12" Margin="0,24,0,0">
                <Button x:ConnectionId='2' Grid.Column="1" Content="Minimize to Tray" 
                                                     
                        Padding="16,8" />
                <Button x:ConnectionId='3' Grid.Column="2" Content="Test Popup" 
                                               
                        Style="{StaticResource AccentButtonStyle}"
                        Padding="16,8" />
            </Grid>
            
        </StackPanel>
    </ScrollViewer>
</Page>

